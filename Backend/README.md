
# Backend Schematics

This repo holds all the backend communication files for working with the various API's.





## Objects
The backend has 2 main objects, a User object and a Restaurant object.

#### User Object:
An instance of the user object is created as the user creates an account (during the front end). If a user logs in, the user object loads its attributes from the database table.

#### Restaurant Object
An instance of the restaurant object is created when we return a restaurant from the search query. The restaurant object is loaded with its necessary parameters from the relevent returned information from the API's. 
## Data Structures

#### Hash Tables
The user ID is generated by a hashing function, and then stored to the database.

#### Queues
The restauraunt history is stored in a queue of max size 5, to make sure we are only returning the last 5 restauraunt's visited, with the most recent restauraunt listed at the top.

#### Lists
The favourites list is stored in a list instead of a queue. This is because we wanted to give users the chance to store as many restauraunt's in their favourites as possible. 


## API's
A diagram highlighting all API's and their dependencies is attached below.

#### Geolocator 
This API prompts the user in their browser for permission to track their location. This returns a JSON file containing the Longitutude & Latitude of the user that we then pass to the Gooogle Places API along with our preferences.


#### Places 
When users are searching for restaurants near them, if they dont want to give the Geolocator permission to access their location, they can instead enter a street address. This API allows us to take a street address and convert it to its Longitutude and Latitude. This was requierd as the Google Places API only searches by the Longitutude/Longitutude. 

#### Google Places
This API helps us take the Longitutude/Latitude of the users, and serach for restaurants near them. The google places API is highly versatile as it also searches for restaurants. The API returns JSON files which dont work with the Java instances of the Restaurant objects, so a manual GSON conversion filter is applied to make sure the JSON files are compiled and mutable.



## Diagrams
### System architecture
![image_alt](https://github.com/AhmadWali04/Restaurant-Roulette/blob/main/Backend/images/Full%20system%20overview.jpg?raw=true)

### Objects and Dependencies
A diagram of all objects and their dependencies can be found here:
[Click here](https://github.com/AhmadWali04/Restaurant-Roulette/blob/8779f1c25c2b4cc44cba3f1b4e9891e0c524e6c9/Backend/images/Full%20Architecture%20diagram.pdf)

### User caseses and responses
[Click here](https://github.com/AhmadWali04/Restaurant-Roulette/blob/8779f1c25c2b4cc44cba3f1b4e9891e0c524e6c9/Backend/images/OOPAnalysis.pdf)

